<h1>tools/retro</h1>
<p>这个文件夹 <code>tools/retro</code> 可以被看作是 <strong>“作弊小抄制造工厂”</strong>。</p>
<p>它的核心目的是为了配合 <strong>Retro</strong> 这个特殊的 AI 模型。普通的 AI（像 GPT）是死记硬背的“闭卷考试”选手；而 Retro 是允许查资料的“开卷考试”选手。</p>
<p>这个文件夹里的工具，就是负责<strong>把“资料”整理好，做成一本方便查阅的“字典”，甚至提前把答案的小抄写好。</strong></p>
<hr />
<h3>1. 这个文件夹主要负责什么功能？</h3>
<p><strong>功能：建立和预处理“外挂知识库”。</strong></p>
<p>它不负责训练 AI 如何说话，而是负责<strong>给 AI 准备参考书</strong>。它把海量的互联网文本（比如维基百科）切碎、整理、建立索引，让 AI 在训练或回答问题时，能瞬间找到相关的信息。</p>
<hr />
<h3>2. 各个文件/子文件夹是干什么的？</h3>
<p>我们可以把这个过程想象成<strong>建立一个图书馆</strong>：</p>
<ul>
<li>
<p><strong><code>preprocess_data.py</code> (施工队队长 / 主力机器)</strong></p>
<ul>
<li>这是最核心的干活脚本。</li>
<li>它负责把一车车的书（原始数据）拉进来，<strong>撕成一页一页的（切片）</strong>，然后<strong>给每一页贴上标签（建索引）</strong>，最后甚至会帮 AI <strong>提前把每道考题对应的参考页找出来（预查询）</strong>。</li>
<li>它一个人干了切书、建目录、找资料三件事。</li>
</ul>
</li>
<li>
<p><strong><code>config_utils.py</code> (自动化说明书翻译官)</strong></p>
<ul>
<li>这是一个辅助工具，用来偷懒的。</li>
<li>它能自动读懂程序员写在代码里的注释，然后把这些注释自动变成机器的操作按钮（命令行参数）。也就是<strong>“只要写了说明书，机器就知道该怎么操作”</strong>。</li>
</ul>
</li>
<li>
<p><strong><code>README.md</code> (总施工图纸 / 用户手册)</strong></p>
<ul>
<li>这是给人类看的总说明书。</li>
<li>告诉你 Retro 是个啥（开卷考试的学生），以及如果要搭建这一整套系统，第一步、第二步、第三步该干什么。</li>
</ul>
</li>
<li>
<p><strong><code>build_db.md</code> (图书馆建设操作SOP)</strong></p>
<ul>
<li>这是更详细的操作流程文档，专门讲数据怎么处理。</li>
<li>它详细解释了 <code>preprocess_data.py</code> 里的那几个步骤（切片、建索引、查邻居）具体是怎么回事，相当于<strong>施工队的内部作业指导书</strong>。</li>
</ul>
</li>
</ul>
<hr />
<h3>3. 高层认知：一句话理解这部分代码</h3>
<p><strong>不要让 AI 在考试（训练）的时候现场去图书馆翻书，那样太慢了。</strong></p>
<p><strong>这部分代码的作用是：在考试开始前，先把图书馆建好，并且针对试卷上的每一道题，提前把参考答案的那一页书找出来，夹在试卷里递给 AI。</strong></p>
<p>这样 AI 只要一看题，旁边就是参考资料，学习效率直接起飞。</p>