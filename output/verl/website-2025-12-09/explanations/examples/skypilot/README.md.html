<h1>examples/skypilot/README.md</h1>
<p>这份文档其实是一份<strong>操作手册</strong>，主要讲的是：<strong>如何利用 SkyPilot 这个工具，在云端（AWS/GCP等）或者 Kubernetes 集群上，轻松地运行 verl（强化学习）训练任务。</strong></p>
<p>如果把训练 AI 模型比作“做饭”，<code>verl</code> 是菜谱，<code>SkyPilot</code> 就是帮你找好厨房（GPU服务器）并自动开火的管家。</p>
<p>为了让你看懂，我把这份文档拆解成一个 <strong>6步走的 To-Do List</strong>，每一步我都用“人话”解释一下：</p>
<hr />
<h3>✅ Task 1: 理解核心概念 (What &amp; Why)</h3>
<p>在开始动手前，先明白这文档想干嘛。
*   <strong>目标</strong>：你要跑强化学习（RL）训练，需要用到很多 GPU。
*   <strong>工具</strong>：
    *   <strong>verl</strong>: 一个用来训练大模型的代码库。
    *   <strong>SkyPilot</strong>: 一个自动化工具。你只要告诉它你要什么配置，它就会自动去云上帮你买机器、配环境、跑代码。
*   <strong>文档目的</strong>：告诉你在 <code>verl</code> 项目里怎么用 <code>SkyPilot</code> 一键启动训练。</p>
<hr />
<h3>✅ Task 2: 安装 SkyPilot (Installation)</h3>
<p>就像你要用美团点外卖得先下个 APP 一样，你要用 SkyPilot 得先安装它。
*   <strong>原文对应</strong>：<code>Installation and Configuration</code> -&gt; <code>Step 1</code>
*   <strong>操作</strong>：根据你拥有的资源（是公司给的 K8s 集群，还是 AWS 账号），运行对应的命令。
    *   如果是 K8s: <code>pip install "skypilot[kubernetes]"</code>
    *   如果是 AWS: <code>pip install "skypilot[aws]"</code>
    *   (以此类推...)</p>
<hr />
<h3>✅ Task 3: 绑定你的云账号 (Configure Platform)</h3>
<p>装好 APP 后，你得绑定支付方式或账号，不然 SkyPilot 没法帮你调动机器。
*   <strong>原文对应</strong>：<code>Step 2: Configure Your Platform</code>
*   <strong>操作</strong>：文档让你去查阅 SkyPilot 的官方文档，运行类似 <code>sky check</code> 的命令来确保你的 AWS/GCP/Azure 或 K8s 已经连通了。</p>
<hr />
<h3>✅ Task 4: 准备“钥匙” (Environment Variables)</h3>
<p>训练模型通常需要记录数据（用 WandB）或者下载受保护的模型（用 HuggingFace）。这需要 API Key（密钥）。
*   <strong>原文对应</strong>：<code>Step 3: Set Up Environment Variables</code>
*   <strong>操作</strong>：在你的终端里输入以下命令，把密钥存进环境变量：
    *   <code>export WANDB_API_KEY="..."</code> (用于画图记录训练过程)
    *   <code>export HF_TOKEN="..."</code> (如果用的模型需要权限，比如 Llama)</p>
<hr />
<h3>✅ Task 5: 一键启动训练 (Launch Examples)</h3>
<p>这是最核心的一步。文档提供了三个“套餐”（YAML配置文件），分别对应不同的训练场景。你只需要选一个运行。</p>
<ul>
<li><strong>原文对应</strong>：<code>Examples</code> 章节</li>
<li><strong>场景 A：我想跑 PPO 算法（最经典的 RL 算法）</strong><ul>
<li><strong>命令</strong>: <code>sky launch -c verl-ppo verl-ppo.yaml ...</code></li>
<li><strong>解释</strong>: 这会启动 2 台 H100 机器，跑 GSM8K 数据集。</li>
</ul>
</li>
<li><strong>场景 B：我想跑 GRPO 算法（一种省显存的优化算法）</strong><ul>
<li><strong>命令</strong>: <code>sky launch -c verl-grpo verl-grpo.yaml ...</code></li>
<li><strong>解释</strong>: 针对 MATH 数据集，用 Qwen2.5-7B 模型。</li>
</ul>
</li>
<li>
<p><strong>场景 C：我想训练模型使用工具 (Multi-turn Tool)</strong></p>
<ul>
<li><strong>命令</strong>: <code>sky launch -c verl-multiturn ...</code></li>
<li><strong>解释</strong>: 这是一个单节点 8 卡 H100 的任务，训练模型进行多轮对话和工具调用。</li>
</ul>
<blockquote>
<p><strong>关于 YAML 文件的补充（Configuration 章节）</strong>：
文档解释了这些 <code>.yaml</code> 文件里已经写好了什么：
*   自动下载 verl 代码。
*   自动配置 Docker 环境。
*   自动下载数据集。
*   也就是说，<strong>你不用手动去服务器上配环境，SkyPilot 读了这个文件全自动搞定。</strong></p>
</blockquote>
</li>
</ul>
<hr />
<h3>✅ Task 6: 监控与收尾 (Monitoring)</h3>
<p>任务跑起来了，你得像看监控一样盯着它，跑完了记得关机省钱。
*   <strong>原文对应</strong>：<code>Monitoring Your Jobs</code>
*   <strong>操作清单</strong>：
    1.  <strong>查状态</strong>: <code>sky status</code> (看机器是不是 Up 起来了)。
    2.  <strong>看日志</strong>: <code>sky logs verl-ppo</code> (看训练是不是在报错，或者 Loss 是不是在降)。
    3.  <strong>远程连接</strong>: <code>ssh verl-ppo</code> (如果你想进机器内部看看)。
    4.  <strong>看图表</strong>: <code>sky status --endpoint</code> (获取 Ray Dashboard 的链接，在网页上看显存占用等)。
    5.  <strong>关机</strong>: <code>sky down verl-ppo</code> (<strong>最重要的一步</strong>，训练完必须关掉集群，否则云厂商会一直扣费)。</p>
<hr />
<h3>总结</h3>
<p>这篇文档其实就是在说：
<strong>“装好 SkyPilot -&gt; 设好 Key -&gt; 选一个 <code>sky launch</code> 命令跑起来 -&gt; 跑完记得 <code>sky down</code> 关机。”</strong></p>