<h1>examples/sglang_multiturn/config/tool_config/sandbox_fusion_tool_config.yaml</h1>
<p>完全没问题。这份文件其实就是给 AI 系统配置一个<strong>“外挂”</strong>或者<strong>“工具箱”</strong>的说明书。</p>
<p>看着代码多，其实它只干了一件事：<strong>告诉 AI 怎么使用一个“代码解释器”（Code Interpreter）。</strong></p>
<p>为了让你彻底搞懂，我制定了一个 <strong>5 步走的 Task List（任务清单）</strong>，我们一步步把这个文件拆解开：</p>
<h3>📝 学习任务清单 (To-Do List)</h3>
<ol>
<li><strong>Task 1：搞懂大局</strong> —— 这份文件到底是用来干嘛的？</li>
<li><strong>Task 2：认识主角</strong> —— 是谁在干活？（<code>class_name</code>）</li>
<li><strong>Task 3：连接大脑与手脚</strong> —— 代码去哪里执行？（<code>config</code> 里的连接信息）</li>
<li><strong>Task 4：设定家规</strong> —— 有什么限制条件？（<code>config</code> 里的限制参数）</li>
<li><strong>Task 5：教会 AI</strong> —— AI 眼里看到的工具长什么样？（<code>tool_schema</code>）</li>
</ol>
<hr />
<h3>🚀 逐步讲解</h3>
<h4>✅ Task 1：搞懂大局</h4>
<p><strong>核心观点：</strong> AI 模型（比如 ChatGPT）本身只是个“大脑”，它只会说话，不会真的运行 Python 代码。
这份文件的作用，就是<strong>给这个大脑装上一双手</strong>。这双手可以在一个安全的沙盒（Sandbox）里写代码、跑代码，然后把结果告诉大脑。</p>
<h4>✅ Task 2：认识主角 (<code>class_name</code>)</h4>
<p>看这一行：</p>
<div class="codehilite"><pre><span></span><code><span class="nt">class_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;verl.tools.sandbox_fusion_tools.SandboxFusionTool&quot;</span>
</code></pre></div>

<ul>
<li><strong>解释：</strong> 这就是告诉系统，我们要启用的这个工具的“学名”叫 <code>SandboxFusionTool</code>。你可以把它理解为这个工具的<strong>驱动程序</strong>。</li>
</ul>
<h4>✅ Task 3：连接大脑与手脚 (<code>config</code> 第一部分)</h4>
<p>看这几行：</p>
<div class="codehilite"><pre><span></span><code><span class="nt">sandbox_fusion_url</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://xxx.apigateway-cn-beijing.volceapi.com/run_code&quot;</span>
<span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">native</span>
</code></pre></div>

<ul>
<li><strong>解释：</strong><ul>
<li><strong><code>sandbox_fusion_url</code></strong>：这是<strong>“执行代码的服务器地址”</strong>。当 AI 写好代码后，它不会在自己的电脑上跑（怕有毒），而是把代码发送到这个网址对应的服务器上去跑。</li>
<li>这就好比：你在外卖软件（AI）上点餐，但饭是在远处的餐厅厨房（这个 URL）里做出来的。</li>
</ul>
</li>
</ul>
<h4>✅ Task 4：设定家规 (<code>config</code> 第二部分)</h4>
<p>为了防止 AI 乱来或者把服务器搞崩，必须设定一些规则：</p>
<div class="codehilite"><pre><span></span><code><span class="nt">num_workers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w">              </span><span class="c1"># 1. 并发数：同时能有10个工人处理代码请求。</span>
<span class="nt">enable_global_rate_limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"> </span><span class="c1"># 2. 开启限流：是否允许限制访问频率？是。</span>
<span class="nt">rate_limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w">               </span><span class="c1"># 3. 限流阈值：每秒或每分钟最多处理10次请求（防止被刷爆）。</span>
<span class="nt">default_timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w">          </span><span class="c1"># 4. 超时时间：代码跑了30秒还没完？强制杀掉（防止死循环）。</span>
<span class="nt">default_language</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;python&quot;</span><span class="w">   </span><span class="c1"># 5. 默认语言：默认跑 Python 代码。</span>
<span class="nt">memory_limit_mb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1024</span><span class="w">        </span><span class="c1"># 6. 内存限制：最多只能用 1GB 内存（防止内存溢出）。</span>
</code></pre></div>

<ul>
<li><strong>解释：</strong> 这些都是为了<strong>安全</strong>和<strong>性能</strong>。就像给员工定规矩：一次只能干10件事，每件事不能超过30秒，别把公司电脑搞死机了。</li>
</ul>
<h4>✅ Task 5：教会 AI (<code>tool_schema</code>)</h4>
<p>这部分最重要，这是<strong>写给 AI 看的说明书</strong>：</p>
<div class="codehilite"><pre><span></span><code><span class="nt">tool_schema</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;function&quot;</span>
<span class="w">  </span><span class="nt">function</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;code_interpreter&quot;</span><span class="w">      </span><span class="c1"># 告诉 AI：这个工具叫“代码解释器”</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;A</span><span class="nv"> </span><span class="s">tool</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">executing</span><span class="nv"> </span><span class="s">code.&quot;</span><span class="w"> </span><span class="c1"># 告诉 AI：这玩意是用来运行代码的。</span>
<span class="w">    </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;object&quot;</span>
<span class="w">      </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">        </span><span class="nt">code</span><span class="p">:</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;string&quot;</span>
<span class="w">          </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;The</span><span class="nv"> </span><span class="s">code</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">execute.&quot;</span><span class="w"> </span><span class="c1"># 告诉 AI：你要把想运行的代码填在这个格子里。</span>
<span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;code&quot;</span><span class="p p-Indicator">]</span><span class="w">          </span><span class="c1"># 告诉 AI：必须填代码，不能为空。</span>
</code></pre></div>

<ul>
<li><strong>解释：</strong><ul>
<li>AI 看不懂上面的 URL 或内存限制，它只看这一段。</li>
<li>当 AI 遇到一个数学难题（比如算斐波那契数列第100位），它会查阅这个 <code>tool_schema</code>，心想：“噢，这里有个叫 <code>code_interpreter</code> 的工具，我可以把 Python 代码传给它，它能帮我算出结果！”</li>
</ul>
</li>
</ul>
<hr />
<h3>💡 总结一下</h3>
<p>这个文件就是在说：</p>
<blockquote>
<p>“嘿，系统！我要启用一个叫 <strong>SandboxFusionTool</strong> 的工具。
请把代码发到 <strong>xxx.volceapi.com</strong> 这个网址去运行。
<strong>规矩是</strong>：最多同时跑10个，每个最多跑30秒，内存别超1G。
<strong>告诉 AI</strong>：它拥有一个叫 <code>code_interpreter</code> 的能力，只要传入 <code>code</code>（代码），我就帮它跑出结果。”</p>
</blockquote>