<h1>docs/_static/js/runllm-widget.js</h1>
<p>这段代码其实不是什么复杂的算法，它更像是一份<strong>“安装说明书”</strong>。</p>
<p>它的核心目的只有一个：<strong>在网页加载完成后，自动在页面上安装一个叫 "RunLLM" 的 AI 聊天机器人插件。</strong></p>
<p>我们可以把浏览器想象成一个“装修队”，这段代码就是给装修队下达的一张 <strong>任务清单 (To-Do List)</strong>。</p>
<p>以下是浏览器执行这段代码时的步骤拆解：</p>
<h3>任务清单：给网页装个 AI 客服</h3>
<h4>✅ Task 1: 等待“房子”盖好 (监听加载)</h4>
<ul>
<li><strong>代码对应：</strong> <code>document.addEventListener("DOMContentLoaded", ...)</code></li>
<li><strong>解释：</strong> 浏览器接到命令：“别急着干活，先等网页的 HTML 结构（墙壁和框架）全部加载完毕。”</li>
<li><strong>目的：</strong> 确保在插入新东西时，网页已经准备好了，防止出错。</li>
</ul>
<h4>✅ Task 2: 写一张“招聘启事” (创建标签)</h4>
<ul>
<li><strong>代码对应：</strong> <code>var script = document.createElement("script");</code></li>
<li><strong>解释：</strong> 浏览器在内存里拿出一张白纸，准备写一段脚本（Script）。</li>
<li><strong>目的：</strong> 创建一个容器，用来承载即将引入的外部工具。</li>
</ul>
<h4>✅ Task 3: 指定“招聘对象”是谁 (设置来源)</h4>
<ul>
<li><strong>代码对应：</strong><ul>
<li><code>script.src = "https://widget.runllm.com";</code></li>
<li><code>script.type = "module";</code></li>
</ul>
</li>
<li><strong>解释：</strong> 浏览器在纸上写下：“我们要找的人在 <code>widget.runllm.com</code> 这个地址，请把它请过来。”</li>
<li><strong>目的：</strong> 告诉浏览器去哪里下载这个聊天机器人的核心程序。</li>
</ul>
<h4>✅ Task 4: 给这个客服定规矩 (设置配置参数)</h4>
<p>这是这段代码里最长的一部分，它规定了这个 AI 机器人长什么样、怎么工作：</p>
<ol>
<li><strong>版本控制</strong> (<code>version="stable"</code>):<ul>
<li>“我们要用稳定版的机器人，不要测试版。”</li>
</ul>
</li>
<li><strong>快捷键</strong> (<code>runllm-keyboard-shortcut="Mod+j"</code>):<ul>
<li>“告诉用户，按 <code>Ctrl+J</code> (或 Mac 上的 <code>Cmd+J</code>) 就能直接呼唤出机器人。”</li>
</ul>
</li>
<li><strong>名字</strong> (<code>runllm-name="verl Chatbot"</code>):<ul>
<li>“这个机器人的名字叫 <strong>verl Chatbot</strong>。”（这通常显示在聊天框顶部）。</li>
</ul>
</li>
<li><strong>位置</strong> (<code>runllm-position="TOP_RIGHT"</code>):<ul>
<li>“机器人平时要待在屏幕的 <strong>右上角</strong>。”</li>
</ul>
</li>
<li><strong>身份ID</strong> (<code>runllm-assistant-id="679"</code>):<ul>
<li>“这是第 679 号助理。”（这是 RunLLM 平台的特定 ID，用于区分不同的知识库）。</li>
</ul>
</li>
</ol>
<h4>✅ Task 5: 正式让客服上岗 (插入页面)</h4>
<ul>
<li><strong>代码对应：</strong> <code>document.head.appendChild(script);</code></li>
<li><strong>解释：</strong> 装修队把写好的这张“招聘启事”（Script 标签）正式贴到了网页的 <code>&lt;head&gt;</code>（头部信息区）里。</li>
<li><strong>结果：</strong> 这一步一旦执行，浏览器就会立刻去下载链接里的程序，几秒钟后，你的网页右上角就会出现一个 AI 聊天气泡。</li>
</ul>
<hr />
<h3>总结</h3>
<p>这段代码讲了什么观点？</p>
<p>它没有任何复杂的逻辑观点，它只是在<strong>配置</strong>。它在说：</p>
<blockquote>
<p>“嘿，浏览器！等页面加载完了，去 RunLLM 那边把 ID 为 679 的那个聊天机器人拉取过来，名字叫 'verl Chatbot'，放在右上角，并允许用户用 Ctrl+J 唤醒它。”</p>
</blockquote>
<p>这通常用于技术文档网站，帮助用户通过 AI 快速搜索文档内容。</p>