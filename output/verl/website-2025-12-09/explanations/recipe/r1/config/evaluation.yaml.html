<h1>recipe/r1/config/evaluation.yaml</h1>
<p>没问题，这种配置文件（Configuration File）乍一看确实全是代码术语。</p>
<p>为了让你听懂，我们把这个文件想象成<strong>“给AI监考老师下达的任务书”</strong>。你的目标是让电脑去评估（Evaluation）一个AI模型的表现。</p>
<p>我们可以把这个过程拆解成 <strong>3个具体的 Task（任务）</strong>，每个任务对应文件里的一段话。</p>
<hr />
<h3>📋 任务清单 (To-Do List)</h3>
<h4>✅ Task 1：告诉电脑“考卷”在哪里</h4>
<p><strong>（对应文件中的 <code>data</code> 部分）</strong></p>
<p>你要评估模型好不好，得先有题和答案。这部分就是告诉电脑去哪里找数据。</p>
<ul>
<li>
<p><strong>原文解读：</strong></p>
<ul>
<li><code>path</code>: <code>/tmp/math_Qwen2-7B-Instruct.parquet</code><ul>
<li><strong>意思：</strong> 考卷放在这个路径下。这是一个叫 <code>Qwen2-7B</code> 的模型做过的数学题文件（<code>.parquet</code> 是一种类似 Excel 的表格文件格式）。</li>
</ul>
</li>
<li><code>prompt_key</code>: <code>prompt</code><ul>
<li><strong>意思：</strong> 告诉电脑，表格里哪一列是“题目”。（这里说：去读叫 <code>prompt</code> 的那一列）。</li>
</ul>
</li>
<li><code>response_key</code>: <code>responses</code><ul>
<li><strong>意思：</strong> 告诉电脑，表格里哪一列是“AI写的答案”。</li>
</ul>
</li>
<li><code>data_source_key</code> &amp; <code>reward_model_key</code>:<ul>
<li><strong>意思：</strong> 同样是告诉电脑，数据来源和评分模型的列名分别叫什么。</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>你的理解重点：</strong>
    这只是在做<strong>“列名映射”</strong>。就像你告诉助手：“Excel表里，A列是问题，B列是回答，你去读一下。”</p>
</li>
</ul>
<hr />
<h4>✅ Task 2：告诉电脑“评分标准”是什么</h4>
<p><strong>（对应文件中的 <code>custom_reward_function</code> 部分）</strong></p>
<p>拿到考卷后，怎么算分？是看字数？还是看数学公式对不对？</p>
<ul>
<li>
<p><strong>原文解读：</strong></p>
<ul>
<li><code>path</code>: <code>null</code><ul>
<li><strong>意思：</strong> 不需要去外部加载特殊文件（<code>null</code> 就是空/默认）。</li>
</ul>
</li>
<li><code>name</code>: <code>compute_score</code><ul>
<li><strong>意思：</strong> 使用一个代码里内置的、名字叫 <code>compute_score</code> 的函数来打分。</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>你的理解重点：</strong>
    这里定义了<strong>“阅卷规则”</strong>。系统会调用一个写好的程序（叫 <code>compute_score</code>）来判断AI的回答能得多少分（Reward）。</p>
</li>
</ul>
<hr />
<h4>✅ Task 3：安排“考场资源”</h4>
<p><strong>（对应文件中的 <code>ray_kwargs</code> 部分）</strong></p>
<p>阅卷需要耗费算力，这部分是分配电脑资源的。</p>
<ul>
<li>
<p><strong>原文解读：</strong></p>
<ul>
<li><code>ray_init</code>:<ul>
<li><strong>意思：</strong> 这里用到了一个叫 <strong>Ray</strong> 的工具（这是一个专门用来让Python程序并行处理、跑得更快的工具）。</li>
</ul>
</li>
<li><code>num_cpus</code>: <code>null</code><ul>
<li><strong>意思：</strong> 这里的 <code>null</code> 代表“不限制”。意思是：电脑里有多少个 CPU 核心，就用多少个。</li>
<li><strong>注释里的警告：</strong> 注释写着，如果是在像 SLURM 这种共享服务器上，最好填个具体的数字（比如 8 或 16），否则把所有 CPU 占满了可能会卡死。</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>你的理解重点：</strong>
    这是<strong>“后勤保障”</strong>。你告诉程序：“尽情使用所有的 CPU 把它跑完！”</p>
</li>
</ul>
<hr />
<h3>总结：这个文件到底说了啥？</h3>
<p>把上面三个任务合起来，这个文件的含义就是：</p>
<blockquote>
<p><strong>“嘿，电脑！请启动 Ray 加速引擎（Task 3），去读取 <code>/tmp/math...</code> 这个文件里的题目和答案（Task 1），然后用 <code>compute_score</code> 这个规则给这些答案打个分（Task 2）。”</strong></p>
</blockquote>
<p><strong>你需要做什么？</strong>
*   如果你只是运行它：通常<strong>不需要改动</strong>。
*   如果你换了数据集：你需要修改 <code>path</code>（文件路径）和下面的 <code>key</code>（列名）。
*   如果你电脑卡顿：你需要把 <code>num_cpus: null</code> 改成一个具体的数字（比如 <code>num_cpus: 4</code>）。</p>